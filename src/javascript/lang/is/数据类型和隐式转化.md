# 数据类型和隐式转化

## 数据类型

### 原始类型
- Undefined

- Null
- Boolean
- Number
- String
- Symbol
  
### 对象引用类型
- Object
- Date
- RegExp
- Error
- 原始包装

- Array
- Map
- Set

- Function
- Promise
- Proxy


## typeof 检测

`typeof` 用于对简单类型的判断

```javascript
console.log(typeof undefined) // "undefined"
console.log(typeof null)      // "object"
console.log(typeof true)      // "boolean"
console.log(typeof 1)         // "number"
console.log(typeof NaN)       // "number"
console.log(typeof 'foo')     // "string"
console.log(typeof Symbol('bar')) // "symbol"
```

`typeof` 对复杂类型的判断, 只能区分出 `object` 或者 `function`

```javascript
console.log(typeof new Number(1))  // "object"
console.log(typeof {})  // "object"
console.log(typeof [])  // "object"
console.log(typeof (new Date))  // "object"
console.log(typeof (new Proxy({}, () => {})))  // "object"
console.log(typeof (function() {}))  // "function"
```


## toString 检测

`Object.prototype.toString` 可用于对象类型检测

简单类型

```javascript
const toString = Object.prototype.toString
console.log(toString.call(undefined)) // "[object Undefined]"
console.log(toString.call(null)) // "[object Null]"
console.log(toString.call(true)) // "[object Boolean]"
console.log(toString.call(1)) // "[object Number]"
console.log(toString.call('')) // "[object String]"
```

包装类型

```javascript
console.log(toString.call(new Boolean(true))) // "[object Boolean]"
console.log(toString.call(new Number(1))) // "[object Number]"
console.log(toString.call(new String(''))) // "[object String]"
```

复杂类型

```javascript
console.log(toString.call({})) // "[object Object]"
console.log(toString.call(new Date)) // "[object Date]"
console.log(toString.call(new Array)) // "[object Array]"
```


## 类型转化

### valueOf

### toString

### 隐式转化

[ToBoolean](https://www.ecma-international.org/ecma-262/11.0/index.html#sec-toboolean)

```javascript
console.log(Boolean(void 0))
console.log(Boolean(null))
console.log(Boolean(true)) //T
console.log(Boolean(0))
console.log(Boolean(1))  //T
console.log(Boolean(NaN))
console.log(Boolean(''))
console.log(Boolean('1')) //T
console.log(Boolean({})) //T
console.log(Boolean([])) //T
```

[ToNumber](https://www.ecma-international.org/ecma-262/11.0/index.html#sec-tonumber)

```javascript
console.log(Number(void 0)) // NaN
console.log(Number(null))  // 0
console.log(Number(true))  // 1
console.log(Number(false)) // 0
console.log(Number(1))     // 1
console.log(Number('1'))   // 1
console.log(Number({}))    // NaN
console.log(Number([]))    // 0
console.log(Number([1]))    // 1
console.log(Number([1, 2]))    // NaN ?
```

[ToString](https://www.ecma-international.org/ecma-262/11.0/index.html#sec-tostring)

```javascript
console.log(String(void 0))
console.log(String(null))
console.log(String(1))
console.log(String(true))
console.log(String({}))
```

```javascript
console.log([] == "")  // T
console.log({} == "[object Object]") // T
```



## 参考
- [ecma-262](https://www.ecma-international.org/ecma-262/11.0/index.html)

- [类型转换](https://zhuanlan.zhihu.com/p/29730094)

- [隐式装箱ToPrimitive](https://sinaad.github.io/xfe/2016/04/15/ToPrimitive/)